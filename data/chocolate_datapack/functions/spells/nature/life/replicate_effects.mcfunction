execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=cow] run summon cow ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=allay] run summon allay ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=chicken] run summon chicken ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=pig] run summon pig ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=axolotl] run summon axolotl ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=bat] run summon bat ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=bee] run summon bee ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=blaze] run summon blaze ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=camel] run summon camel ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=cat] run summon cat ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=cave_spider] run summon cave_spider ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=cod] run summon cod ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=creeper] run summon creeper ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=dolphin] run summon dolphin ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=donkey] run summon donkey ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=drowned] run summon drowned ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=elder_guardian] run summon elder_guardian ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=enderman] run summon enderman ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=endermite] run summon endermite ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=evoker] run summon evoker ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=fox] run summon fox ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=frog] run summon frog ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=ghast] run summon ghast ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=giant] run summon giant ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=glow_squid] run summon glow_squid ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=goat] run summon goat ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=guardian] run summon guardian ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=hoglin] run summon hoglin ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=horse] run summon horse ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=husk] run summon husk ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=illusioner] run summon illusioner ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=iron_golem] run summon iron_golem ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=llama] run summon llama ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=magma_cube] run summon magma_cube ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=mooshroom] run summon mooshroom ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=mule] run summon mule ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=ocelot] run summon ocelot ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=panda] run summon panda ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=parrot] run summon parrot ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=phantom] run summon phantom ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=piglin] run summon piglin ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=piglin_brute] run summon piglin_brute ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=pillager] run summon pillager ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=polar_bear] run summon polar_bear ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=pufferfish] run summon pufferfish ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=rabbit] run summon rabbit ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=ravager] run summon ravager ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=salmon] run summon salmon ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=sheep] run summon sheep ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=shulker] run summon shulker ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=silverfish] run summon silverfish ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=skeleton] run summon skeleton ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=skeleton_horse] run summon skeleton_horse ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=slime] run summon slime ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=sniffer] run summon sniffer ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=snow_golem] run summon snow_golem ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=spider] run summon spider ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=squid] run summon squid ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}

execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=stray] run summon stray ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=strider] run summon strider ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=tadpole] run summon tadpole ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=trader_llama] run summon trader_llama ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=tropical_fish] run summon tropical_fish ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=turtle] run summon turtle ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=vex] run summon vex ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=villager] run summon villager ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=vindicator] run summon vindicator ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=wandering_trader] run summon wandering_trader ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=warden] run summon warden ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=witch] run summon witch ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=wither_skeleton] run summon wither_skeleton ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=wolf] run summon wolf ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=zoglin] run summon zoglin ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=zombie] run summon zombie ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=zombie_horse] run summon zombie_horse ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=zombie_villager] run summon zombie_villager ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
execute at @s if entity @e[distance=..3,sort=nearest,limit=1,type=zombified_piglin] run summon zombified_piglin ~ ~ ~ {DeathLootTable:"minecraft:empty",Tags:["replicated","new_spell","chocolate_datapack_spell"]}
# Remove tags
execute at @s run tag @e[tag=replicated,sort=nearest,distance=..1,tag=new_spell] remove new_spell
# put kill timer on spawned entity
execute at @s[tag=lv1] run scoreboard players set @e[tag=replicated,sort=nearest,limit=1,tag=new_spell] kill_timer 600
execute at @s[tag=lv2] run scoreboard players set @e[tag=replicated,sort=nearest,limit=1,tag=new_spell] kill_timer 1200
execute at @s[tag=lv3] run scoreboard players set @e[tag=replicated,sort=nearest,limit=1,tag=new_spell] kill_timer 1800

execute at @s run particle flash ~ ~1 ~ 0 0 0 0 1 force
kill @s
